<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Authority Class: MemoryStore</title>

	<!--[if lt IE 9]>
	<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	<link type="text/css" rel="stylesheet" href="styles/sunlight.default.css">

	
	<link type="text/css" rel="stylesheet" href="styles/site.custom.css">
	
</head>

<body>
<div class="container-fluid">
	<div class="navbar navbar-fixed-top ">
		<div class="navbar-inner">
			<a class="brand" href="index.html">Authority</a>
			<ul class="nav">
				
				<li class="dropdown">
					<a href="classes.list.html" class="dropdown-toggle" data-toggle="dropdown">Classes<b
						class="caret"></b></a>

					<ul class="dropdown-menu ">
						
						<li>
							<a href="Manager.html">Manager</a>
						</li>
						
						<li>
							<a href="MemoryStore.html">MemoryStore</a>
						</li>
						

					</ul>
				</li>
				
			</ul>
		</div>
	</div>

	<div class="row-fluid">

		
		<div class="span8">
			
				<div id="main">
					


	<h1 class="page-title">Class: MemoryStore</h1>
<section>

<header>
    <h2>
    MemoryStore
    </h2>
    
        <div class="class-description"><p>Represents a Memory rule store.</p></div>
    
</header>

<article>
    <div class="container-overview">
    

    
        
<dt>
    <h4 class="name" id="MemoryStore"><span class="type-signature"></span>new MemoryStore<span class="signature">(<span class="optional">opts</span>)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Constructor for Memory rule store.</p>
<p>This store keeps rules in memory only.
Rules are not persisted across application reloads and therefore they have to be loaded early in the application start (initialization) phase.</p>
<p>Options</p>
<ul>
<li><code>name</code> {string}, the name of the store. The default value is &quot;memory&quot;. NOTE: every store is required to have a unique name within a manager.</li>
</ul>
<p>This is the default store for authority and it doesnâ€™t have to be explicitly configured unless it is used in conjunction with other stores.</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>


<table class="params table table-striped">
    <thead>
	<tr>

		<th>Name</th>


		<th>Type</th>


		<th>Argument</th>




		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>


        <tr>

                <td class="name"><code>opts</code></td>


            <td class="type">


<span class="param-type">object</span>



            </td>


                <td class="attributes">

                    &lt;optional><br>





                </td>




            <td class="description last"><p>Additional options.</p></td>
        </tr>


	</tbody>
</table>


    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="memory.js.html">stores/memory.js</a>, <a href="memory.js.html#sunlight-1-line-218">line 218</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
        <h5>Example</h5>
        
    <pre class="sunlight-highlight-javascript"> var authority = require("authority");

 authority.setRules([{
         name: "allow_managers_only",
            description: "Only managers can pass.",
            condition: { title: "Manager" }
     }, {
         name: "allow_teenagers_only",
            description: "Only users between 13 and 19 years old can pass.",
            condition: { age: { $gte: 13, $lte: 19 } }
     }
 ]);</pre>


    
</dd>

    
    </div>

    

    

    

    

    

    
        <h3 class="subsection-title">Members</h3>

        <dl>
            
<dt>
    <h4 class="name" id="acls"><span class="type-signature"></span>acls<span class="type-signature"></span></h4>


</dt>
<dd>

    <div class="description">
        <p>The object that holds the references to all stored ACLs (Access Control Lists). NOTE: this member is not part of the Authority API and it is specific to this store only.</p>
    </div>





<dl class="details">



















    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="memory.js.html">stores/memory.js</a>, <a href="memory.js.html#sunlight-1-line-236">line 236</a>
    </li></ul></dd>







</dl>



</dd>



<dt>
    <h4 class="name" id="name"><span class="type-signature"></span>name<span class="type-signature"></span></h4>


</dt>
<dd>

    <div class="description">
        <p>The name of this store. The default value is &quot;memory&quot;. NOTE: every store is required to have a unique name within a manager.</p>
    </div>





<dl class="details">



















    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="memory.js.html">stores/memory.js</a>, <a href="memory.js.html#sunlight-1-line-226">line 226</a>
    </li></ul></dd>







</dl>



</dd>



<dt>
    <h4 class="name" id="rules"><span class="type-signature"></span>rules<span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    <div class="description">
        <p>The object that holds the references to all stored rules. NOTE: this member is not part of the Authority API and it is specific to this store only.</p>
    </div>
    
    
    

    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="memory.js.html">stores/memory.js</a>, <a href="memory.js.html#sunlight-1-line-231">line 231</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    
</dd>

        
            
<dt>
    <h4 class="name" id="subjects"><span class="type-signature"></span>subjects<span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    <div class="description">
        <p>ACL reverse index. NOTE: this member is not part of the Authority API and it is specific to this store only.</p>
    </div>
    
    
    

    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="memory.js.html">stores/memory.js</a>, <a href="memory.js.html#sunlight-1-line-241">line 241</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    
</dd>

        </dl>
    

    
        <h3 class="subsection-title">Methods</h3>

        <dl>
            
<dt>
    <h4 class="name" id="deleteAcls"><span class="type-signature"></span>deleteAcls<span class="signature">(names, <span class="optional">done</span>)</span><span class="type-signature"> &rarr; {null}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Removes the specified ACLs from the store.</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		
		<th>Argument</th>
		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>names</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">Array.&lt;string></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>The name or an array of names to remove.</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>done</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Optional callback function that will be called after the ACL(s) have been deleted.
If the method is unsuccessful an error object will be passed as a single parameter to the callback.
If the callback is omitted and the method is unsuccessful an error will be thrown.</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="memory.js.html">stores/memory.js</a>, <a href="memory.js.html#sunlight-1-line-392">line 392</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            


<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type">null</span>


	</dd>
</dl>


        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="deleteRules"><span class="type-signature"></span>deleteRules<span class="signature">(names, <span class="optional">done</span>)</span><span class="type-signature"> &rarr; {null}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Removes the specified rules from the store.</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		
		<th>Argument</th>


		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>names</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">Array.&lt;string></span>


            
            </td>

            
                <td class="attributes">





                </td>


            

            <td class="description last"><p>The name or an array of names to remove.</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>done</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">

                    &lt;optional><br>





                </td>
            



            <td class="description last"><p>Optional callback function that will be called after the rule(s) have been deleted.
If the method is unsuccessful an error object will be passed as a single parameter to the callback.
If the callback is omitted and the method is unsuccessful an error will be thrown.</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="memory.js.html">stores/memory.js</a>, <a href="memory.js.html#sunlight-1-line-283">line 283</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            


<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type">null</span>


	</dd>
</dl>


        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="getAcl"><span class="type-signature"></span>getAcl<span class="signature">(name, done)</span><span class="type-signature"> &rarr; {null}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Retrieves the specified ACL from the store.</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>name</code></td>


            <td class="type">


<span class="param-type">string</span>



            </td>





            <td class="description last"><p>The name of the ACL.</p></td>
        </tr>



        <tr>

                <td class="name"><code>done</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The callback that handles the result.
The first parameter will always be null for this store while the second parameter will contain the requested ACL or null if not found.</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="memory.js.html">stores/memory.js</a>, <a href="memory.js.html#sunlight-1-line-379">line 379</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    <h5>Returns:</h5>




<dl>
	<dt>
		Type
	</dt>
	<dd>

<span class="param-type">null</span>


	</dd>
</dl>



    
    
</dd>

        
            
<dt>
    <h4 class="name" id="getAclCount"><span class="type-signature"></span>getAclCount<span class="signature">(done)</span><span class="type-signature"> &rarr; {null}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Gets the total count of ACLs present in the store.</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>done</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The callback that handles the result.
The first parameter will always be null for this store while the second parameter will contain a number representing the total count of ACLs.</p></td>
        </tr>

	
	</tbody>
</table>




<dl class="details">



















    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="memory.js.html">stores/memory.js</a>, <a href="memory.js.html#sunlight-1-line-419">line 419</a>
    </li></ul></dd>







</dl>











    <h5>Returns:</h5>




<dl>
	<dt>
		Type
	</dt>
	<dd>

<span class="param-type">null</span>


	</dd>
</dl>





</dd>



<dt>
    <h4 class="name" id="getAclNames"><span class="type-signature"></span>getAclNames<span class="signature">(start, count, match, done)</span><span class="type-signature"> &rarr; {null}</span></h4>


</dt>
<dd>


    <div class="description">
        <p>Retrieves the names and descriptions of the ACLs present in the store and matching the specified criteria.</p>
<p>All parameters are required.</p>
    </div>







        <h5>Parameters:</h5>


<table class="params table table-striped">
    <thead>
	<tr>

		<th>Name</th>


		<th>Type</th>





		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>


        <tr>

                <td class="name"><code>start</code></td>


            <td class="type">


<span class="param-type">number</span>



            </td>





            <td class="description last"><p>The index at wich to begin retrieving names. The index of the first element is 0.</p></td>
        </tr>



        <tr>

                <td class="name"><code>count</code></td>


            <td class="type">


<span class="param-type">number</span>



            </td>





            <td class="description last"><p>The number of names to retrieve. <code>0</code> denotes all remaining.</p></td>
        </tr>



        <tr>

                <td class="name"><code>match</code></td>


            <td class="type">


<span class="param-type">string</span>



            </td>





            <td class="description last"><p>Wildcard expression to match names. <code>null</code> denotes any name. Example: <code>allow_*</code></p></td>
        </tr>



        <tr>

                <td class="name"><code>done</code></td>


            <td class="type">


<span class="param-type">function</span>



            </td>





            <td class="description last"><p>The callback that handles the result.
The first parameter will always be null for this store while the second parameter will contain an array of matched objects <code>{ name: &quot;string&quot;, description: &quot;string&quot; }</code>.</p></td>
        </tr>


	</tbody>
</table>




<dl class="details">



















    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="memory.js.html">stores/memory.js</a>, <a href="memory.js.html#sunlight-1-line-408">line 408</a>
    </li></ul></dd>







</dl>











    <h5>Returns:</h5>




<dl>
	<dt>
		Type
	</dt>
	<dd>

<span class="param-type">null</span>


	</dd>
</dl>





</dd>



<dt>
    <h4 class="name" id="getRule"><span class="type-signature"></span>getRule<span class="signature">(name, done)</span><span class="type-signature"> &rarr; {null}</span></h4>


</dt>
<dd>


    <div class="description">
        <p>Retrieves the specified rule from the store.</p>
    </div>







        <h5>Parameters:</h5>


<table class="params table table-striped">
    <thead>
	<tr>

		<th>Name</th>


		<th>Type</th>





		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>


        <tr>

                <td class="name"><code>name</code></td>


            <td class="type">


<span class="param-type">string</span>



            </td>





            <td class="description last"><p>The name of the rule.</p></td>
        </tr>



        <tr>

                <td class="name"><code>done</code></td>


            <td class="type">


<span class="param-type">function</span>



            </td>





            <td class="description last"><p>The callback that handles the result.
The first parameter will always be null for this store while the second parameter will contain the requested rule or null if not found.</p></td>
        </tr>


	</tbody>
</table>




<dl class="details">



















    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="memory.js.html">stores/memory.js</a>, <a href="memory.js.html#sunlight-1-line-270">line 270</a>
    </li></ul></dd>







</dl>











    <h5>Returns:</h5>




<dl>
	<dt>
		Type
	</dt>
	<dd>

<span class="param-type">null</span>


	</dd>
</dl>





</dd>



<dt>
    <h4 class="name" id="getRuleCount"><span class="type-signature"></span>getRuleCount<span class="signature">(done)</span><span class="type-signature"> &rarr; {null}</span></h4>


</dt>
<dd>


    <div class="description">
        <p>Gets the total count of rules present in the store.</p>
    </div>







        <h5>Parameters:</h5>


<table class="params table table-striped">
    <thead>
	<tr>

		<th>Name</th>


		<th>Type</th>





		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>


        <tr>

                <td class="name"><code>done</code></td>


            <td class="type">


<span class="param-type">function</span>



            </td>





            <td class="description last"><p>The callback that handles the result.
The first parameter will always be null for this store while the second parameter will contain a number representing the total count of rules.</p></td>
        </tr>


	</tbody>
</table>




<dl class="details">



















    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="memory.js.html">stores/memory.js</a>, <a href="memory.js.html#sunlight-1-line-310">line 310</a>
    </li></ul></dd>







</dl>











    <h5>Returns:</h5>




<dl>
	<dt>
		Type
	</dt>
	<dd>

<span class="param-type">null</span>


	</dd>
</dl>





</dd>



<dt>
    <h4 class="name" id="getRuleNames"><span class="type-signature"></span>getRuleNames<span class="signature">(start, count, match, done)</span><span class="type-signature"> &rarr; {null}</span></h4>


</dt>
<dd>


    <div class="description">
        <p>Retrieves the names and descriptions of the rules present in the store and matching the specified criteria.</p>
<p>All parameters are required.</p>
    </div>







        <h5>Parameters:</h5>


<table class="params table table-striped">
    <thead>
	<tr>

		<th>Name</th>


		<th>Type</th>





		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>


        <tr>

                <td class="name"><code>start</code></td>


            <td class="type">


<span class="param-type">number</span>



            </td>





            <td class="description last"><p>The index at wich to begin retrieving names. The index of the first element is 0.</p></td>
        </tr>



        <tr>

                <td class="name"><code>count</code></td>


            <td class="type">


<span class="param-type">number</span>



            </td>





            <td class="description last"><p>The number of names to retrieve. <code>0</code> denotes all remaining.</p></td>
        </tr>



        <tr>

                <td class="name"><code>match</code></td>


            <td class="type">


<span class="param-type">string</span>



            </td>





            <td class="description last"><p>Wildcard expression to match names. <code>null</code> denotes any name. Example: <code>allow_*</code></p></td>
        </tr>



        <tr>

                <td class="name"><code>done</code></td>


            <td class="type">


<span class="param-type">function</span>



            </td>





            <td class="description last"><p>The callback that handles the result.
The first parameter will always be null for this store while the second parameter will contain an array of matched objects <code>{ name: &quot;string&quot;, description: &quot;string&quot; }</code>.</p></td>
        </tr>


	</tbody>
</table>




<dl class="details">



















    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="memory.js.html">stores/memory.js</a>, <a href="memory.js.html#sunlight-1-line-299">line 299</a>
    </li></ul></dd>







</dl>











    <h5>Returns:</h5>




<dl>
	<dt>
		Type
	</dt>
	<dd>

<span class="param-type">null</span>


	</dd>
</dl>





</dd>



<dt>
    <h4 class="name" id="setAcls"><span class="type-signature"></span>setAcls<span class="signature">(acls, <span class="optional">override</span>, <span class="optional">done</span>)</span><span class="type-signature"> &rarr; {null}</span></h4>


</dt>
<dd>


    <div class="description">
        <p>Adds one or more ACL (Access Control List) to the store.</p>
<p>An ACL entry has the following structure:</p>
    </div>







        <h5>Parameters:</h5>


<table class="params table table-striped">
    <thead>
	<tr>

		<th>Name</th>


		<th>Type</th>


		<th>Argument</th>




		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>


        <tr>

                <td class="name"><code>acls</code></td>


            <td class="type">


<span class="param-type">object</span>
|

<span class="param-type">Array.&lt;object></span>



            </td>


                <td class="attributes">





                </td>




            <td class="description last"><p>The ACL or an array of ACLs to be added to the store.</p></td>
        </tr>



        <tr>

                <td class="name"><code>override</code></td>


            <td class="type">


<span class="param-type">boolean</span>



            </td>


                <td class="attributes">

                    &lt;optional><br>





                </td>




            <td class="description last"><p>Specifies whether existing ACLs should be replaced by the ones provided to this method. ACLs are matched by their name.
If this parameter is not specified or is false and there is a name conflict an error will be returned or thrown depending on the usage of the method.</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>done</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">

                    &lt;optional><br>





                </td>


            

            <td class="description last"><p>Optional callback function that will be called after the ACL(s) have been added.
If the method is unsuccessful an error object will be passed as a single parameter to the callback.
If the callback is omitted and the method is unsuccessful an error will be thrown.</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="memory.js.html">stores/memory.js</a>, <a href="memory.js.html#sunlight-1-line-367">line 367</a>
    </li></ul></dd>







</dl>











    <h5>Returns:</h5>




<dl>
	<dt>
		Type
	</dt>
	<dd>

<span class="param-type">null</span>


	</dd>
</dl>





        <h5>Example</h5>

    <pre class="sunlight-highlight-javascript"> {
     // Represents a primary key for the ACL and it is the field that binds the ACL to a resource.
     name: "unique resource identifier",
     description: "optional ACL description",
     // Represents a collection of posible operations such as CRUD.
     operation: {
         // operation
         view: {
             // permission
             allow: {
                 // subject (role, user, agent etc.)
                 everyone: true
             },
             deny: {}
         },
         modify: {
             allow: {
                 contributers: true,
                 maintainers: true
             },
             deny: {
                 anonymous: true
             }
         },
         "delete": {
             allow: {
                 contributers: true,
                 maintainers: true
             },
             deny: {
                 anonymous: true
             }
         }
     }
 }</pre>



</dd>



<dt>
    <h4 class="name" id="setRules"><span class="type-signature"></span>setRules<span class="signature">(rules, <span class="optional">override</span>, <span class="optional">done</span>)</span><span class="type-signature"> &rarr; {null}</span></h4>


</dt>
<dd>


    <div class="description">
        <p>Adds one or more rules to the store.</p>
    </div>







        <h5>Parameters:</h5>


<table class="params table table-striped">
    <thead>
	<tr>

		<th>Name</th>


		<th>Type</th>


		<th>Argument</th>




		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>


        <tr>

                <td class="name"><code>rules</code></td>


            <td class="type">


<span class="param-type">object</span>
|

<span class="param-type">Array.&lt;object></span>



            </td>


                <td class="attributes">





                </td>




            <td class="description last"><p>The rule or an array of rules to be added to the store.</p></td>
        </tr>



        <tr>

                <td class="name"><code>override</code></td>


            <td class="type">


<span class="param-type">boolean</span>



            </td>


                <td class="attributes">

                    &lt;optional><br>





                </td>




            <td class="description last"><p>Specifies whether existing rules should be replaced by the ones provided to this method. Rules are matched by their name.
If this parameter is not specified or is false and there is a name conflict an error will be returned or thrown depending on the usage of the method.</p></td>
        </tr>



        <tr>

                <td class="name"><code>done</code></td>


            <td class="type">


<span class="param-type">function</span>



            </td>


                <td class="attributes">

                    &lt;optional><br>





                </td>




            <td class="description last"><p>Optional callback function that will be called after the rule(s) have been added.
If the method is unsuccessful an error object will be passed as a single parameter to the callback.
If the callback is omitted and the method is unsuccessful an error will be thrown.</p></td>
        </tr>


	</tbody>
</table>




<dl class="details">



















    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="memory.js.html">stores/memory.js</a>, <a href="memory.js.html#sunlight-1-line-258">line 258</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    <h5>Returns:</h5>




<dl>
	<dt>
		Type
	</dt>
	<dd>

<span class="param-type">null</span>


	</dd>
</dl>



    
    
</dd>

        
            
<dt>
    <h4 class="name" id="subjectIndex"><span class="type-signature"></span>subjectIndex<span class="signature">(<span class="optional">pattern</span>, done)</span><span class="type-signature"> &rarr; {null}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>This method is used to quickly find or browse through all effective permissions for a given subject.</p>
<p>The index represents four levels deep nested collections in the following form:
[subject].[permission].[operation].[resource]</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		
		<th>Argument</th>
		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>pattern</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>The pattern to match. If omitted, all elements at the first level (subjects) will be returned.</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>done</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">


                

                
                </td>
            

            

            <td class="description last"><p>The callback that handles the result.
The first parameter will always be null for this store while the second parameter will contain an array of keys that are direct members of the matching element.</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="memory.js.html">stores/memory.js</a>, <a href="memory.js.html#sunlight-1-line-458">line 458</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            


<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type">null</span>


	</dd>
</dl>


        
    
    
        <h5>Example</h5>

    <pre class="sunlight-highlight-javascript"> var authority = require("authority"),
     store = authority.stores.acl;

 store.subjectIndex(function(err, res) {
     // res -> ["contributers", "maintainers", "everyone", "anonymous"]
 });

 store.subjectIndex("maintainers", function(err, res) {
     // res -> ["allow", "deny"]
 });

 store.subjectIndex("maintainers.allow", function(err, res) {
     // res -> ["modify", "delete", "change_permissions", "approve_content"]
 });

 store.subjectIndex("maintainers.allow.approve_content", function(err, res) {
     // res -> ["wiki", "blogs", "pages"]
 });

 store.subjectIndex("maintainers.allow.approve_content.wiki", function(err, res) {
     // res -> true
 });</pre>



</dd>

        </dl>
    

    

    
</article>

</section>




				</div>

				<div class="clearfix"></div>
				<footer>
					
					
		<span class="copyright">
		Authority Copyright Â© 2013-2014 The contributors to the Authority projects.
		</span>
					<br />
					
		<span class="jsdoc-message">
		Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.2.2</a>
		on Thu Jan 23 2014 01:06:13 GMT+0200 (EET) using the <a href="https://github.com/terryweiss/docstrap">DocStrap template</a>.
		</span>
				</footer>
			</div>

			
			<div class="span3">
				<div id="toc"></div>
			</div>
			
			<br clear="both">
		</div>

	</div>
	<script src="scripts/sunlight.js"></script>
	<script src="scripts/sunlight.javascript.js"></script>
	<script src="scripts/sunlight-plugin.doclinks.js"></script>
	<script src="scripts/sunlight-plugin.linenumbers.js"></script>
	<script src="scripts/sunlight-plugin.menu.js"></script>
	<script src="scripts/jquery.min.js"></script>
	<script src="scripts/jquery.scrollTo.js"></script>
	<script src="scripts/jquery.localScroll.js"></script>
	<script src="scripts/bootstrap-dropdown.js"></script>
	<script src="scripts/toc.js"></script>


	<script>  Sunlight.highlightAll({lineNumbers:true,  showMenu: true, enableDoclinks :true}); </script>

	<script>
		$( function () {
			$( "#toc" ).toc( {
				selectors   : "h1,h2,h3,h4",
				showAndHide : false,
				scrollTo    : 60
			} );
			$( "#toc>ul" ).addClass( "nav nav-pills nav-stacked" );
			$( "#main span[id^='toc']" ).addClass( "toc-shim" );

		} );
	</script>

	

</body>
</html>
