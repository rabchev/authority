<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Authority Class: Manager</title>

	<!--[if lt IE 9]>
	<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	<link type="text/css" rel="stylesheet" href="styles/sunlight.default.css">

	
	<link type="text/css" rel="stylesheet" href="styles/site.custom.css">
	
</head>

<body>
<div class="container-fluid">
	<div class="navbar navbar-fixed-top ">
		<div class="navbar-inner">
			<a class="brand" href="index.html">Authority</a>
			<ul class="nav">
				
				<li class="dropdown">
					<a href="classes.list.html" class="dropdown-toggle" data-toggle="dropdown">Classes<b
						class="caret"></b></a>

					<ul class="dropdown-menu ">
						
						<li>
							<a href="Manager.html">Manager</a>
						</li>
						
						<li>
							<a href="MemoryStore.html">MemoryStore</a>
						</li>
						

					</ul>
				</li>
				
			</ul>
		</div>
	</div>

	<div class="row-fluid">

		
		<div class="span8">
			
				<div id="main">
					


	<h1 class="page-title">Class: Manager</h1>
<section>

<header>
    <h2>
    Manager
    </h2>
    
        <div class="class-description"><p>Represents an Authority Manager.</p></div>
    
</header>

<article>
    <div class="container-overview">
    

    
        
<dt>
    <h4 class="name" id="Manager"><span class="type-signature"></span>new Manager<span class="signature">(<span class="optional">opts</span>)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Constructor for Authority Manager.</p>
<p>Options</p>
<ul>
<li><code>ruleStore</code> {object/function}<optional>, configuration object or an instance of rules store.</li>
<li><code>ruleStores</code> {object[]/function[]}<optional>, an array of configuration objects or instances of rule stores.</li>
<li><code>defaultStore</code> {string}<optional>, specifies the default rule store for the manager. This option is applicable only if the manager is set to work with multiple rule stores. If this option is omitted the first store in the collection is assumed.</li>
<li><code>aclStore</code> {(object/function)}<optional>, configuration object or an instance of ACL (Access Control List) store.</li>
</ul>
<p>All options are optional. If no rule or ACL store is specified, the <a href="MemoryStore.html">MemoryStore</a> is used.</p>
<p>The configuration of stores takes the following form:</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		
		<th>Argument</th>
		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>

                <td class="name"><code>opts</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Additional options described above.</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="manager.js.html">manager.js</a>, <a href="manager.js.html#sunlight-1-line-95">line 95</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
        <h5>Example</h5>

    <pre class="sunlight-highlight-javascript"> {
     ruleStores: [
         // Use memory store with default options. If the store property is string it is resolved with require and options property is passed as an argument.
         { store: "memory", options: {} },
         // Use Redis store. Options are store specific.
         { store: "redis", options: { host: "redis.mydomain.com" } }
     ],
     defaultStore: "redis",
     aclStore: { store: "redis", options: { host: "redis.mydomain.com" } }
 }</pre>



</dd>

    
    </div>

    

    

    

    

    

    

    
        <h3 class="subsection-title">Methods</h3>

        <dl>
            
<dt>
    <h4 class="name" id="execute"><span class="type-signature"></span>execute<span class="signature">(rule, fact, done)</span><span class="type-signature"> &rarr; {null}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Executes the specified or provided rule.</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>rule</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>The name of a rule or an instance of a rule.</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>fact</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>An object containing facts to which the current rule is matched against.</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>done</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>Callback function that will be called after the rule has been evaluated.
The first parameter will be an error object if an error occurred, or null otherwise.
The second parameter will contain <code>true</code> or <code>false</code> indicating whether all conditions against the provided fact have been satisfied, including all conditions from all nested rules if any.</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="manager.js.html">manager.js</a>, <a href="manager.js.html#sunlight-1-line-182">line 182</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            


<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type">null</span>


	</dd>
</dl>


        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="getRule"><span class="type-signature"></span>getRule<span class="signature">(name, done)</span><span class="type-signature"> &rarr; {null}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Retrieves the specified rule from the first store that matches the name.</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>name</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The name of the rule.</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>done</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The callback that handles the result.
The first parameter will be an error object if an error occurred, or null otherwise.
The second parameter will contain the requested rule or null if not found.</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="manager.js.html">manager.js</a>, <a href="manager.js.html#sunlight-1-line-156">line 156</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            


<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type">null</span>


	</dd>
</dl>


        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="setRules"><span class="type-signature"></span>setRules<span class="signature">(rules, <span class="optional">override</span>, <span class="optional">done</span>)</span><span class="type-signature"> &rarr; {null}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Adds one or more rules to the default store.</p>
<p>This method is simply alias to the <code>setRules</code> method of the default store.
If default store hasn't been set explicitly, the first store in the collection is assumed.</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		
		<th>Argument</th>
		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>rules</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>
|

<span class="param-type">Array.&lt;object></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>The rule or an array of rules to be added to the store.</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>override</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Specifies whether existing rules should be replaced by the ones provided to this method. Rules are matched by their name.
If this parameter is not specified or is false and there is a name conflict an error will be returned or thrown depending on the usage of the method.</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>done</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Optional callback function that will be called after the rule(s) have been added.
If the method is unsuccessful an error object will be passed as a single parameter to the callback.
If the callback is omitted and the method is unsuccessful an error will be thrown.</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="manager.js.html">manager.js</a>, <a href="manager.js.html#sunlight-1-line-143">line 143</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            


<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type">null</span>


	</dd>
</dl>


        
    
    
</dd>

        </dl>
    

    

    
</article>

</section>




				</div>

				<div class="clearfix"></div>
				<footer>
					
					
		<span class="copyright">
		Authority Copyright © 2013-2014 The contributors to the Authority projects.
		</span>
					<br />
					
		<span class="jsdoc-message">
		Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.2.2</a>
		on Tue Jan 21 2014 00:27:49 GMT+0200 (EET) using the <a href="https://github.com/terryweiss/docstrap">DocStrap template</a>.
		</span>
				</footer>
			</div>

			
			<div class="span3">
				<div id="toc"></div>
			</div>
			
			<br clear="both">
		</div>

	</div>
	<script src="scripts/sunlight.js"></script>
	<script src="scripts/sunlight.javascript.js"></script>
	<script src="scripts/sunlight-plugin.doclinks.js"></script>
	<script src="scripts/sunlight-plugin.linenumbers.js"></script>
	<script src="scripts/sunlight-plugin.menu.js"></script>
	<script src="scripts/jquery.min.js"></script>
	<script src="scripts/jquery.scrollTo.js"></script>
	<script src="scripts/jquery.localScroll.js"></script>
	<script src="scripts/bootstrap-dropdown.js"></script>
	<script src="scripts/toc.js"></script>


	<script>  Sunlight.highlightAll({lineNumbers:true,  showMenu: true, enableDoclinks :true}); </script>

	<script>
		$( function () {
			$( "#toc" ).toc( {
				selectors   : "h1,h2,h3,h4",
				showAndHide : false,
				scrollTo    : 60
			} );
			$( "#toc>ul" ).addClass( "nav nav-pills nav-stacked" );
			$( "#main span[id^='toc']" ).addClass( "toc-shim" );

		} );
	</script>

	

</body>
</html>
